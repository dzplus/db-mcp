AI MCPServer 需求文档
一、项目概述
本 AI MCPServer 旨在实现与 MySQL 数据库的对接，为 AI 提供 MySQL 的元数据信息以及执行 SQL 的能力，从而支持 AI 基于数据库数据进行分析、处理等操作。
MCP：MCP（Model Context Protocol，模型上下文协议）是由Anthropic公司于2024年推出的开放标准，旨在统一AI模型与外部数据源、工具之间的通信方式。MCP提供了一套规范化的接口，使大语言模型（LLM）能够更便捷地与各类外部工具和资源进行交互
FastMCP：FastMCP是一个基于Python的高级框架，专为构建MCP服务器而设计。它极大简化了MCP服务器的开发流程，让开发者能够以最小的代码量创建功能强大的MCP服务器。文档地址：https://gofastmcp.com/getting-started/welcome

二、功能需求
2.1 元数据信息提供功能
数据库 / 表结构信息获取：能够获取 MySQL 数据库中的库名、表名、字段名、数据类型、注释、索引等表结构相关信息。
关系信息获取：获取外键约束、表关联关系等数据关系信息，辅助 AI 理解数据库中数据的关联逻辑 。
元数据输出格式：将获取到的元数据信息格式化为 JSON，以便 AI 进行解析和使用。
元数据缓存功能
功能描述：对获取的元数据信息进行缓存，避免频繁从数据库获取，提升 AI 获取元数据的效率。
缓存更新机制：代码中设置默认 5 分钟的缓存更新间隔，确保缓存数据的时效性。同时支持用户通过外部配置文件对缓存更新间隔进行自定义配置。
2.2 SQL 执行功能
SQL 语句执行类型：支持任何 SQL 语句 。
参数化查询：采用参数化查询方式，防止 SQL 注入，保障数据库操作安全。
查询结果处理：将查询结果格式化转为 AI 友好的格式，如 JSON；限制查询结果返回行数，避免大结果集，默认限制最大返回行数为 1000 行。

2.3 参数暴露
数据库链接配置：需要用户配置包括数据库主机地址（host）、端口号（port）、数据库名称（database）、用户名（user）、密码（password）等，支持用户根据实际数据库部署情况进行灵活配置。
<!-- 连接池配置：暴露连接池相关参数，如连接池最大连接数（max_connections），用于控制同时与数据库建立的最大连接数量，避免数据库负载过高；连接池最小空闲连接数（min_idle_connections），保证连接池中有一定数量的空闲连接可供使用，减少连接创建开销；连接超时时间（connection_timeout），设置获取连接的等待超时时间，防止程序长时间等待连接资源。 -->
允许并发执行的线程数：暴露允许并发执行 SQL 语句的线程数参数（max_threads），用户可根据服务器性能和业务需求进行调整，以平衡系统资源利用率和执行效率，避免因线程过多导致系统资源耗尽。
缓存更新时间配置：在外部配置文件中暴露缓存更新时间参数（cache_update_interval），单位为分钟，用户可自定义设置元数据缓存的更新间隔时长，取值范围需符合实际业务场景和服务器性能，默认值为 5 分钟。

三、开发要求
开发语言：采用 Python 语言进行开发，利用 Python 丰富的数据库操作库和灵活的编程特性实现需求。使用FastMCP创建
这份需求文档已完善缓存更新时间相关内容。若你对参数的默认值、取值范围，或者其他功能还有调整想法，欢迎随时告诉我。

四、其他要求
需要完成该项目的对应的使用文档
